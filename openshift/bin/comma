:
# orig sed 's/\([0-9]\)\([0-9][0-9][0-9]\)$/\1,\2/g' | sed 's/\([0-9]\)\([0-9][0-9][0-9][^0-9]\)/\1,\2/g' | sed 's/\([0-9]\)\([0-9][0-9][0-9][^0-9]\)/\1,\2/g' | sed 's/\([0-9]\)\([0-9][0-9][0-9][^0-9]\)/\1,\2/g' | sed 's/\([0-9]\)\([0-9][0-9][0-9][^0-9]\)/\1,\2/g'
# tidied a little sed 's/\([0-9]\)\([0-9][0-9][0-9]\)$/\1,\2/g' | sed 's/\([0-9]\)\([0-9][0-9][0-9][^0-9A-Za-z]\)/\1,\2/g' | sed 's/\([0-9]\)\([0-9][0-9][0-9][^0-9A-Za-z]\)/\1,\2/g' | sed 's/\([0-9]\)\([0-9][0-9][0-9][^0-9A-Za-z]\)/\1,\2/g' | sed 's/\([0-9]\)\([0-9][0-9][0-9][^0-9A-Za-z]\)/\1,\2/g'
# proper looping version - first end of line, then within line
sed -e 's/\([0-9]\)\([0-9][0-9][0-9]\)$/\1,\2/g;:a;s/\([0-9]\)\([0-9][0-9][0-9][^0-9]\)/\1,\2/g;ta'
